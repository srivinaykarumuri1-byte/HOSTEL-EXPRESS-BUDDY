<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hostel Mart | Complete App</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f1f3f6; margin: 0; padding-bottom: 80px; }
        header { background: #2874f0; color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 100; }
        .login-screen, .agent-screen { padding: 40px; text-align: center; background: white; min-height: 100vh; display: none; }
        .main-content { display: none; }
        input { width: 85%; padding: 12px; margin: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; }
        .btn { width: 85%; padding: 15px; background: #2874f0; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .card { background: white; margin: 15px; padding: 15px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); text-align: center; }
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        .item-card { background: white; padding: 10px; border-radius: 8px; text-align: center; }
        .item-card img { width: 70px; height: 70px; object-fit: contain; }
        .price { font-weight: bold; font-size: 16px; margin: 5px 0; }
        .add-btn { background: #fff; color: #2874f0; border: 1px solid #2874f0; padding: 5px 10px; border-radius: 4px; font-weight: bold; width: 100%; }
        .order-popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.4); z-index: 1000; text-align: center; width: 80%; }
        #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 999; }
    </style>
</head>
<body>

<div id="loginPage" class="login-screen">
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" width="80">
    <h2 style="color: #2874f0;">Hostel Mart Login</h2>
    <input type="text" id="uName" placeholder="Mee Name">
    <input type="number" id="uPhone" placeholder="Phone Number">
    <p>Profile Photo Upload:</p>
    <input type="file" id="uPhoto">
    <button class="btn" onclick="doLogin()">LOGIN</button>
</div>

<div id="appPage" class="main-content">
    <header>
        <div>Hostel Mart</div>
        <small id="welcomeMsg"></small>
    </header>

    <div style="padding: 15px; text-align: center; background: white;">
        <img src="https://cdn-icons-png.flaticon.com/512/2940/2940640.png" width="100">
        <h3>Stationary Section</h3>
    </div>

    <div class="product-grid">
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/3308/3308336.png">
            <p>Notebook</p>
            <div class="price">â‚¹40</div>
            <button class="add-btn" onclick="openOrder('Notebook', 40)">ORDER</button>
        </div>
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/115/115911.png">
            <p>Eraser</p>
            <div class="price">â‚¹5</div>
            <button class="add-btn" onclick="openOrder('Eraser', 5)">ORDER</button>
        </div>
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/581/581023.png">
            <p>Blue Pen</p>
            <div class="price">â‚¹10</div>
            <button class="add-btn" onclick="openOrder('Blue Pen', 10)">ORDER</button>
        </div>
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/3069/3069351.png">
            <p>Steel Scale</p>
            <div class="price">â‚¹20</div>
            <button class="add-btn" onclick="openOrder('Steel Scale', 20)">ORDER</button>
        </div>
    </div>

    <center>
        <button onclick="goToAgent()" style="margin-top:20px; color:#2874f0; border:none; background:none; text-decoration:underline;">Agent Login</button>
    </center>
</div>

<div id="agentPage" class="agent-screen">
    <h2>Agent Terminal</h2>
    <div id="ordersList" style="text-align: left; background: #f9f9f9; padding: 10px; border-radius: 8px;">
        <p>No orders yet for 5:00 PM delivery.</p>
    </div>
    <br>
    <button class="btn" onclick="location.reload()" style="background: #777;">BACK TO STORE</button>
</div>

<div id="overlay"></div>
<div id="orderPopup" class="order-popup">
    <h3>ðŸŽ‰ Order Placed!</h3>
    <div id="billArea" style="text-align:left; font-size:14px; margin:15px 0; border:1px dashed #ccc; padding:10px;"></div>
    <p>Delivery: <b>Today 5-6 PM</b></p>
    <button class="btn" onclick="closeOrder()">OK</button>
</div>

<script>
    // PAGE NAVIGATION
    window.onload = function() {
        let user = localStorage.getItem("h_user");
        if(user) {
            document.getElementById('appPage').style.display = 'block';
            document.getElementById('welcomeMsg').innerText = "Namaste, " + user;
        } else {
            document.getElementById('loginPage').style.display = 'block';
        }
    }

    // LOGIN LOGIC
    function doLogin() {
        let name = document.getElementById('uName').value;
        if(name) {
            localStorage.setItem("h_user", name);
            location.reload();
        } else { alert("Enter Name!"); }
    }

    // ORDER LOGIC
    function openOrder(item, price) {
        let total = price + 10;
        document.getElementById('billArea').innerHTML = `
            Item: ${item}<br>Price: â‚¹${price}<br>Delivery: â‚¹10<br><hr><b>Total: â‚¹${total}</b>
        `;
        document.getElementById('orderPopup').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';
    }

    function closeOrder() {
        document.getElementById('orderPopup').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
    }

    // AGENT LOGIN
    function goToAgent() {
        let pin = prompt("Agent Password:");
        if(pin === "1234") {
            document.getElementById('appPage').style.display = 'none';
            document.getElementById('agentPage').style.display = 'block';
        } else { alert("Wrong Password!"); }
    }
</script>

</body>
</html>
